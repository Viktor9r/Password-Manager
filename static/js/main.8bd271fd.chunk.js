(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],[,,,,,,,,,function(e,t,s){},function(e,t,s){},,,,,,,function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},,function(e,t,s){},function(e,t,s){},function(e,t,s){"use strict";s.r(t);var a=s(1),r=s.n(a),o=s(11),n=s.n(o),i=(s(17),s(12)),c=s(2),l=(s(18),s(19),s(3)),d=s.n(l),u=(s(9),s(20),s(10),s(0)),p=function(e){var t=e.password,s=e.passId,r=e.loadPasswords,o=Object(a.useState)(!1),n=Object(c.a)(o,2),i=n[0],l=n[1],d="*".repeat(t.appPassword.length);return Object(u.jsx)("div",{className:"password",children:t.application.length>0&&t.appPassword.length>0&&t.appLogin.length>0?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"password__field password__app",children:Object(u.jsxs)("div",{className:"password__values",children:[Object(u.jsx)("span",{className:"password__title",children:"Site/Application:"})," ",t.application]})}),Object(u.jsx)("div",{className:"password__field password__login",children:Object(u.jsxs)("div",{className:"password__values",children:[Object(u.jsx)("span",{className:"password__title",children:"Login:"})," ",t.appLogin]})}),Object(u.jsx)("div",{className:"password__field password__pass",children:Object(u.jsxs)("div",{className:"password__values",children:[Object(u.jsx)("span",{className:"password__title",children:"Password:"})," ",!0===i?Object(u.jsx)("span",{children:t.appPassword}):Object(u.jsx)("span",{children:d})]})}),Object(u.jsxs)("div",{className:"password__buttons-block",children:[Object(u.jsx)("button",{type:"button",className:"password__button",onClick:function(){return function(){var e=JSON.parse(localStorage.getItem("passwordsFromServer")||"[]");console.log(e),console.log(s);var t=e.filter((function(e){return e.id!==s}));console.log(t),localStorage.setItem("passwordsFromServer",JSON.stringify(t)),r()}()},children:"Delete password"}),Object(u.jsx)("button",{type:"button",className:"password__button password__reveal",onClick:function(){l(!i)},children:"Hide/Show Password"})]})]}):Object(u.jsx)("div",{className:"password__hidden"})})},j=s(5),b=(s(22),function(e){var t=e.loadPasswords,s=e.userId,r=e.passwords;console.log(r,s);var o=Object(a.useState)(""),n=Object(c.a)(o,2),i=n[0],l=n[1],d=Object(a.useState)(""),p=Object(c.a)(d,2),b=p[0],g=p[1],O=Object(a.useState)(""),_=Object(c.a)(O,2),m=_[0],h=_[1];return Object(u.jsx)("div",{className:"add",children:Object(u.jsxs)("form",{className:"add__form",onSubmit:function(e){e.preventDefault(),function(e){var t=JSON.parse(localStorage.getItem("passwordsFromServer")||"[]"),s=[].concat(Object(j.a)(t),[e]);localStorage.setItem("passwordsFromServer",JSON.stringify(s)),console.log(t)}(function(){var e=JSON.parse(localStorage.getItem("passwordsFromServer")||"[]").reduce((function(e,t){return e.b>t.b?e:t}));return console.log(e.id),{id:e.id+1,userId:s,application:i,appLogin:b,appPassword:m}}()),t(),l(""),g(""),h("")},method:"post",children:[Object(u.jsx)("input",{type:"text",placeholder:"Enter application title",className:"add__field add__field--app",onChange:function(e){l(e.target.value)},value:i,required:!0}),Object(u.jsx)("input",{type:"text",placeholder:"Enter new login",className:"add__field add__field--login",onChange:function(e){g(e.target.value)},value:b,required:!0}),Object(u.jsx)("input",{type:"password",placeholder:"Enter new password",className:"add__field add__field--password",onChange:function(e){h(e.target.value)},value:m,required:!0}),Object(u.jsx)("button",{className:"add__button",type:"submit",children:"Add password"})]})})}),g=s(8),O=(s(23),function(e){var t=e.loadPasswords,s=e.passId,r=e.setSelectedPasswordId,o=Object(a.useState)(""),n=Object(c.a)(o,2),i=n[0],l=n[1],d=Object(a.useState)(""),p=Object(c.a)(d,2),j=p[0],b=p[1],O=Object(a.useState)(""),_=Object(c.a)(O,2),m=_[0],h=_[1];return Object(u.jsx)("div",{className:"update",children:Object(u.jsxs)("form",{className:"update__form",onSubmit:function(e){e.preventDefault(),function(){var e=JSON.parse(localStorage.getItem("passwordsFromServer")||"[]").map((function(e){return e.id!==s?e:Object(g.a)(Object(g.a)({},e),{},{application:i,appLogin:j,appPassword:m})}));localStorage.setItem("passwordsFromServer",JSON.stringify(e))}(),t(),console.log(i,j,m),l(""),b(""),h(""),r(0)},method:"post",children:[Object(u.jsx)("input",{type:"text",className:"update__field update__field--app",placeholder:"New Site/App",value:i,onChange:function(e){l(e.target.value)},required:!0}),Object(u.jsx)("input",{type:"text",className:"update__field update__field--login",placeholder:"New Login",value:j,onChange:function(e){b(e.target.value)},required:!0}),Object(u.jsx)("input",{type:"password",className:"update__field update__field--password",placeholder:"New Password",value:m,onChange:function(e){h(e.target.value)},required:!0}),Object(u.jsx)("button",{type:"submit",className:"update__button update__button--update",children:"Update"})]})})}),_=function(e){var t=e.loadPasswords,s=e.userLogin,r=e.userId,o=e.passwordsList,n=e.setLoginVisible,i=e.listVisible,l=e.setVisibleList,j=Object(a.useState)(0),g=Object(c.a)(j,2),_=g[0],m=g[1],h=o.filter((function(e){return e.userId===r}));return Object(u.jsxs)(u.Fragment,{children:[0!==h.length?Object(u.jsx)(u.Fragment,{children:i&&Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"passwords",children:[Object(u.jsxs)("div",{className:"passwords__title",children:["Welcome,"," ",s]}),Object(u.jsx)(b,{passwords:h,loadPasswords:t,userId:r}),Object(u.jsx)("button",{type:"button",className:"password__button password__button--back",onClick:function(){l(!1),n(!0)},children:"Back to sign in"})]})})}):Object(u.jsx)("div",{className:"hidden"}),i&&0!==h.length?Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("ul",{className:"passwords__list",children:[Object(u.jsx)("div",{className:"passwords__title-list",children:"Your passwords:"}),h.map((function(e){return Object(u.jsxs)("li",{className:d()("passwords__item",{hidden:0===e.application.length&&0===e.appLogin.length&&0===e.appPassword.length}),children:[Object(u.jsx)(p,{password:e,passId:e.id,loadPasswords:t}),_===e.id?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(O,{loadPasswords:t,passId:e.id,setSelectedPasswordId:m}),Object(u.jsx)("button",{type:"button",className:"update__button",onClick:function(){return m(0)},children:"Cancel"})]}):Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("button",{type:"button",className:d()("password__button password__button--update",{hidden:0===e.application.length&&0===e.appLogin.length&&0===e.appPassword.length}),onClick:function(){return m(e.id)},children:"Update"})})]},e.id)}))]})}):Object(u.jsx)("div",{className:"hidden"})]})},m=function(e){var t=e.setShowRegistration,s=e.setIsUserReg,r=e.loadUsers,o=e.setLoginVisible,n=e.loadPasswords,i=e.passwords,l=e.setShowError,p=e.isUserReg,b=e.setPasswordLengthError,g=e.passwordLengthError,O=Object(a.useState)(""),_=Object(c.a)(O,2),m=_[0],h=_[1],f=Object(a.useState)(""),w=Object(c.a)(f,2),v=w[0],x=w[1];return Object(u.jsxs)("div",{className:"registration",children:[Object(u.jsxs)("form",{className:"registration__form",onSubmit:function(e){e.preventDefault();var a=function(){var e=JSON.parse(localStorage.getItem("usersFromServer")||"[]");return e.some((function(e){return e.login===m||e.password===v}))?(s(!0),null):{id:e.length+1,login:m,password:v}}();a&&v.length>=6?(!function(e){var t=JSON.parse(localStorage.getItem("usersFromServer")||"[]"),s=[].concat(Object(j.a)(t),[e]);if(localStorage.setItem("usersFromServer",JSON.stringify(s)),i.length>1){var a={id:i.reduce((function(e,t){return e.b>t.b?e:t})).id+1,userId:e.id,application:"",appLogin:"",appPassword:""},r=[].concat(Object(j.a)(i),[a]);localStorage.setItem("passwordsFromServer",JSON.stringify(r))}else{var o={id:i.length+1,userId:e.id,application:"",appLogin:"",appPassword:""},n=[].concat(Object(j.a)(i),[o]);localStorage.setItem("passwordsFromServer",JSON.stringify(n))}}(a),t(!1),o(!0),s(!1),b(!1)):(s(!0),b(!1)),r(),n(),l(!1),h(""),x("")},method:"post",children:[Object(u.jsx)("div",{className:"registration__title",children:"Registration:"}),Object(u.jsx)("input",{type:"text",className:d()("registration__field registration__field--login",{registration__field_error:p||g}),placeholder:"Login",value:m,onChange:function(e){h(e.target.value)},required:!0}),Object(u.jsx)("input",{type:"password",className:d()("registration__field registration__field--password",{registration__field_error:p||g}),placeholder:"Password",value:v,onChange:function(e){x(e.target.value)},required:!0}),Object(u.jsx)("button",{type:"submit",className:"registration__button",children:"Sign Up"})]}),Object(u.jsx)("button",{type:"button",className:"registration__button registration__login",onClick:function(){t(!1),o(!0),s(!1),l(!1),b(!1)},children:"Back to sign in"})]})},h=function(e){var t=e.loadPasswords,s=e.users,r=e.passwords,o=e.loadUsers,n=Object(a.useState)(0),i=Object(c.a)(n,2),l=i[0],p=i[1],j=Object(a.useState)(""),b=Object(c.a)(j,2),g=b[0],O=b[1],h=Object(a.useState)(""),f=Object(c.a)(h,2),w=f[0],v=f[1],x=Object(a.useState)(""),S=Object(c.a)(x,2),N=S[0],I=S[1],P=Object(a.useState)(!1),y=Object(c.a)(P,2),L=y[0],F=y[1],C=Object(a.useState)(!1),J=Object(c.a)(C,2),k=J[0],E=J[1],U=Object(a.useState)(!0),q=Object(c.a)(U,2),V=q[0],R=q[1],D=Object(a.useState)(!0),A=Object(c.a)(D,2),B=A[0],Y=A[1],H=Object(a.useState)(!1),M=Object(c.a)(H,2),W=M[0],z=M[1],G=Object(a.useState)(!1),K=Object(c.a)(G,2),Q=K[0],T=K[1];Object(a.useEffect)((function(){}),[l]);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"login",children:[V&&Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("form",{className:"login__form",onSubmit:function(e){e.preventDefault(),function(){var e=s.find((function(e){return e.login===g&&e.password===w}));e?(p(e.id),I(e.login),E(!k),F(!1),R(!1),Y(!0),z(!1)):(p(0),z(!0)),console.log(e),console.log(null===e||void 0===e?void 0:e.id),console.log(l)}(),t(),E(!1),O(""),v("")},method:"post",children:[Object(u.jsx)("div",{className:"login__title",children:"Login:"}),Object(u.jsx)("input",{type:"text",className:d()("login__field login__field--login",{login__field_error:W}),placeholder:"Your login",required:!0,name:"Login",value:g,onChange:function(e){O(e.target.value)}}),Object(u.jsx)("input",{type:"password",className:d()("login__field login__field--password",{login__field_error:W||Q}),placeholder:"Your password",required:!0,name:"Password",value:w,onChange:function(e){v(e.target.value)}}),W&&Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"login__error",children:"Input correct values, user does not exist! Please, sign up. After sign up you will need to sign in again."})}),Object(u.jsx)("button",{type:"submit",className:"login__button login__button--sign",children:"Sign In"}),Object(u.jsx)("button",{type:"button",className:"login__button login__button--reg",onClick:function(){F(!0),R(!1)},children:"I am a new user"})]})}),console.log(l)]}),Object(u.jsx)(_,{userId:l,passwordsList:r,userLogin:N,loadPasswords:t,setLoginVisible:R,listVisible:B,setVisibleList:Y}),L&&Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(m,{setShowRegistration:F,setIsUserReg:E,loadUsers:o,setLoginVisible:R,loadPasswords:t,passwords:r,setShowError:z,isUserReg:k,setPasswordLengthError:T,passwordLengthError:Q})}),k&&Object(u.jsx)("div",{className:"registration__error",children:"User with the same password ot login is already registered. Please, enter other data or sign in!"}),Q&&Object(u.jsx)("div",{className:"registration__error",children:"Password should be at list 6 characters"})]})},f=function(){var e=Object(a.useState)([]),t=Object(c.a)(e,2),s=t[0],r=t[1],o=Object(a.useState)([]),n=Object(c.a)(o,2),i=n[0],l=n[1],d=function(){var e=JSON.parse(localStorage.getItem("usersFromServer")||"[]");l(e)};Object(a.useEffect)((function(){d()}),[l]);var p=function(){var e=JSON.parse(localStorage.getItem("passwordsFromServer")||"[]");r(e),console.log(e)};return Object(a.useEffect)((function(){p()}),[r]),console.log(i),Object(u.jsx)("div",{className:"page",children:Object(u.jsx)(h,{users:i,passwords:s,loadPasswords:p,loadUsers:d})})};n.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(i.a,{children:Object(u.jsx)(f,{})})}),document.getElementById("root"))}],[[24,1,2]]]);
//# sourceMappingURL=main.8bd271fd.chunk.js.map