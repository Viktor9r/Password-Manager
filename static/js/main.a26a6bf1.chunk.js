(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},,function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){"use strict";s.r(t);var a=s(1),n=s.n(a),r=s(9),o=s.n(r),c=(s(15),s(10)),i=s(2),l=(s(16),s(17),s(7)),d=s.n(l),u=(s(18),s(19),s(0)),p=function(e){var t=e.password,s=e.passId,n=e.loadPasswords,r=Object(a.useState)(!1),o=Object(i.a)(r,2),c=o[0],l=o[1],d="*".repeat(t.appPassword.length);return Object(u.jsx)("div",{className:"password",children:t.application.length>0&&t.appPassword.length>0&&t.appLogin.length>0?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"password__field password__app",children:["Site/Application:"," ",t.application]}),Object(u.jsxs)("div",{className:"password__field password__login",children:["Login:"," ",t.appLogin]}),Object(u.jsxs)("div",{className:"password__field password__pass",children:["Password:"," ",!0===c?Object(u.jsx)("span",{children:t.appPassword}):Object(u.jsx)("span",{children:d})]}),Object(u.jsxs)("div",{className:"password__buttons-block",children:[Object(u.jsx)("button",{type:"button",className:"pasword__delete",onClick:function(){return function(){var e=JSON.parse(localStorage.getItem("passwordsFromServer")||"[]");console.log(e),console.log(s);var t=e.filter((function(e){return e.id!==s}));console.log(t),localStorage.setItem("passwordsFromServer",JSON.stringify(t)),n()}()},children:"Delete password"}),Object(u.jsx)("button",{type:"button",className:"password__button password__reveal",onClick:function(){l(!c)},children:"Hide/Show Password"})]})]}):Object(u.jsx)("div",{className:"password__hidden"})})},j=s(5),b=(s(21),function(e){var t=e.loadPasswords,s=e.userId,n=e.passwords;console.log(n,s);var r=Object(a.useState)(""),o=Object(i.a)(r,2),c=o[0],l=o[1],d=Object(a.useState)(""),p=Object(i.a)(d,2),b=p[0],g=p[1],O=Object(a.useState)(""),m=Object(i.a)(O,2),f=m[0],_=m[1];return Object(u.jsx)("div",{className:"add",children:Object(u.jsxs)("form",{className:"add__form",onSubmit:function(e){e.preventDefault(),function(e){var t=JSON.parse(localStorage.getItem("passwordsFromServer")||"[]"),s=[].concat(Object(j.a)(t),[e]);localStorage.setItem("passwordsFromServer",JSON.stringify(s)),console.log(t)}(function(){var e=JSON.parse(localStorage.getItem("passwordsFromServer")||"[]").reduce((function(e,t){return e.b>t.b?e:t}));return console.log(e.id),{id:e.id+1,userId:s,application:c,appLogin:b,appPassword:f}}()),t(),l(""),g(""),_("")},method:"post",children:[Object(u.jsx)("input",{type:"text",placeholder:"Enter application title",className:"add__input add__input--app",onChange:function(e){l(e.target.value)},value:c,required:!0}),Object(u.jsx)("input",{type:"text",placeholder:"Enter new login",className:"add__input add__input--log",onChange:function(e){g(e.target.value)},value:b,required:!0}),Object(u.jsx)("input",{type:"text",placeholder:"Enter password",className:"add__input add__input--pass",onChange:function(e){_(e.target.value)},value:f,required:!0}),Object(u.jsx)("button",{className:"add__submit",type:"submit",children:"Add password"})]})})}),g=s(8),O=(s(22),function(e){var t=e.loadPasswords,s=e.passId,n=e.setSelectedPasswordId,r=Object(a.useState)(""),o=Object(i.a)(r,2),c=o[0],l=o[1],d=Object(a.useState)(""),p=Object(i.a)(d,2),j=p[0],b=p[1],O=Object(a.useState)(""),m=Object(i.a)(O,2),f=m[0],_=m[1];return Object(u.jsx)("div",{className:"update",children:Object(u.jsxs)("form",{className:"update__form",onSubmit:function(e){e.preventDefault(),function(){var e=JSON.parse(localStorage.getItem("passwordsFromServer")||"[]").map((function(e){return e.id!==s?e:Object(g.a)(Object(g.a)({},e),{},{application:c,appLogin:j,appPassword:f})}));localStorage.setItem("passwordsFromServer",JSON.stringify(e))}(),t(),console.log(c,j,f),l(""),b(""),_(""),n(0)},children:[Object(u.jsx)("input",{type:"text",className:"update__field",placeholder:"New Site/App",value:c,onChange:function(e){l(e.target.value)}}),Object(u.jsx)("input",{type:"text",className:"update__field",placeholder:"New Login",value:j,onChange:function(e){b(e.target.value)}}),Object(u.jsx)("input",{type:"password",className:"update__field",placeholder:"New Password",value:f,onChange:function(e){_(e.target.value)}}),Object(u.jsx)("button",{type:"submit",className:"update__button",children:"Submit"})]})})}),m=function(e){var t=e.loadPasswords,s=e.userLogin,n=e.userId,r=e.passwordsList,o=e.setLoginVisible,c=e.listVisible,l=e.setVisibleList,j=Object(a.useState)(0),g=Object(i.a)(j,2),m=g[0],f=g[1],_=r.filter((function(e){return e.userId===n}));return Object(u.jsxs)("div",{className:"passwords",children:[0!==_.length?Object(u.jsx)(u.Fragment,{children:c&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"passwords__title",children:["Welcome,"," ",s]}),Object(u.jsx)(b,{passwords:_,loadPasswords:t,userId:n}),Object(u.jsx)("button",{type:"button",className:"password__back",onClick:function(){l(!1),o(!0)},children:"Back to sign in"}),Object(u.jsx)("div",{className:"passwords__title-list",children:"Your paswords:"})]})}):"",c&&Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("ul",{className:"passwords__list",children:_.map((function(e){return Object(u.jsxs)("li",{className:d()("password__item",{hidden:0===e.application.length&&0===e.appLogin.length&&0===e.appPassword.length}),children:[Object(u.jsx)(p,{password:e,passId:e.id,loadPasswords:t}),m===e.id?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("button",{type:"button",className:"passwords__edit",onClick:function(){return f(0)},children:"Cancel"}),Object(u.jsx)(O,{loadPasswords:t,passId:e.id,setSelectedPasswordId:f})]}):Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("button",{type:"button",className:d()("password__edit",{hidden:0===e.application.length&&0===e.appLogin.length&&0===e.appPassword.length}),onClick:function(){return f(e.id)},children:"Update"})})]},e.id)}))})})]})},f=(s(23),function(e){var t=e.setShowRegistration,s=e.setIsUserReg,n=e.loadUsers,r=e.setLoginVisible,o=e.loadPasswords,c=Object(a.useState)(""),l=Object(i.a)(c,2),d=l[0],p=l[1],b=Object(a.useState)(""),g=Object(i.a)(b,2),O=g[0],m=g[1];return Object(u.jsxs)("div",{className:"registration",children:[Object(u.jsxs)("form",{className:"registration__form",onSubmit:function(e){e.preventDefault();var a=function(){var e=JSON.parse(localStorage.getItem("usersFromServer")||"[]");return e.some((function(e){return e.login===d||e.password===O}))?(s(!0),null):{id:e.length+1,login:d,password:O}}();a?(!function(e){var t=JSON.parse(localStorage.getItem("usersFromServer")||"[]"),s=[].concat(Object(j.a)(t),[e]);localStorage.setItem("usersFromServer",JSON.stringify(s));var a=JSON.parse(localStorage.getItem("passwordsFromServer")||"[]"),n={id:a.reduce((function(e,t){return e.b>t.b?e:t})).id+1,userId:e.id,application:"",appLogin:"",appPassword:""},r=[].concat(Object(j.a)(a),[n]);localStorage.setItem("passwordsFromServer",JSON.stringify(r))}(a),t(!1),r(!0)):s(!0),n(),o(),p(""),m("")},children:[Object(u.jsx)("input",{type:"text",className:"registration__field",placeholder:"Login",value:d,onChange:function(e){p(e.target.value)},required:!0}),Object(u.jsx)("input",{type:"text",className:"registration__field",placeholder:"Password",value:O,onChange:function(e){m(e.target.value)},required:!0}),Object(u.jsx)("button",{type:"submit",className:"registration__submit",children:"Sign Up"})]}),Object(u.jsx)("button",{type:"button",className:"registration__login",onClick:function(){t(!1),r(!0),s(!1)},children:"Back to sign in"})]})}),_=function(e){var t=e.loadPasswords,s=e.users,n=e.passwords,r=e.loadUsers,o=Object(a.useState)(0),c=Object(i.a)(o,2),l=c[0],d=c[1],p=Object(a.useState)(""),j=Object(i.a)(p,2),b=j[0],g=j[1],O=Object(a.useState)(""),_=Object(i.a)(O,2),h=_[0],w=_[1],v=Object(a.useState)(""),S=Object(i.a)(v,2),x=S[0],N=S[1],I=Object(a.useState)(!1),y=Object(i.a)(I,2),P=y[0],F=y[1],L=Object(a.useState)(!1),C=Object(i.a)(L,2),J=C[0],k=C[1],E=Object(a.useState)(!0),U=Object(i.a)(E,2),V=U[0],q=U[1],D=Object(a.useState)(!0),A=Object(i.a)(D,2),R=A[0],B=A[1],H=Object(a.useState)(!1),M=Object(i.a)(H,2),W=M[0],Y=M[1];Object(a.useEffect)((function(){}),[l]);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"login",children:[V&&Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("form",{className:"login__form",onSubmit:function(e){e.preventDefault(),function(){var e=s.find((function(e){return e.login===b&&e.password===h}));e?(d(e.id),N(e.login),k(!J),F(!1),q(!1),B(!0),Y(!1)):(d(0),Y(!0)),console.log(e),console.log(null===e||void 0===e?void 0:e.id),console.log(l)}(),t(),k(!1),g(""),w("")},children:[Object(u.jsx)("div",{className:"login__title",children:"Login:"}),Object(u.jsx)("input",{type:"text",className:"login__field login__field--login",placeholder:"Enter login",required:!0,name:"Login",value:b,onChange:function(e){g(e.target.value)}}),Object(u.jsx)("input",{type:"text",className:"login__field login__field--password",placeholder:"Enter password",required:!0,name:"Password",value:h,onChange:function(e){w(e.target.value)}}),W&&Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"login__error",children:"Input correct values, user does not exist! Please, sign up. After sign up you will need to sign in again."})}),Object(u.jsx)("button",{type:"submit",className:"login__button login__button--sign",children:"Sign In"}),Object(u.jsx)("button",{type:"button",className:"login__button login__button--reg",onClick:function(){F(!0),q(!1)},children:"I am a new user"})]})}),console.log(l)]}),Object(u.jsx)(m,{userId:l,passwordsList:n,userLogin:x,loadPasswords:t,setLoginVisible:q,listVisible:R,setVisibleList:B}),P&&Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(f,{setShowRegistration:F,setIsUserReg:k,loadUsers:r,setLoginVisible:q,loadPasswords:t})}),J&&Object(u.jsx)("div",{className:"registration__already",children:"User with the same password ot login is already registered. Please, enter other data or sign in!"})]})},h=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),s=t[0],n=t[1],r=Object(a.useState)([]),o=Object(i.a)(r,2),c=o[0],l=o[1],d=function(){var e=JSON.parse(localStorage.getItem("usersFromServer")||"[]");l(e)};Object(a.useEffect)((function(){d()}),[l]);var p=function(){var e=JSON.parse(localStorage.getItem("passwordsFromServer")||"[]");n(e),console.log(e)};return Object(a.useEffect)((function(){p()}),[n]),console.log(c),Object(u.jsx)("div",{className:"page",children:Object(u.jsx)(_,{users:c,passwords:s,loadPasswords:p,loadUsers:d})})};o.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(c.a,{children:Object(u.jsx)(h,{})})}),document.getElementById("root"))}],[[24,1,2]]]);
//# sourceMappingURL=main.a26a6bf1.chunk.js.map